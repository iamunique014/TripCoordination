@* _Sidebar.cshtml *@

@using Microsoft.AspNetCore.Identity
@inject SignInManager<IdentityUser> SignInManager
@inject UserManager<IdentityUser> UserManager

@if (SignInManager.IsSignedIn(User))
{
    <div class="d-flex flex-column flex-shrink-0 p-3 justify-content-between bg-warning border-end min-vh-100" style="width: 250px;">
        @* <h5 class="mb-3">Dashboard</h5> *@
        <ul class="nav nav-pills flex-column mb-auto">
            @if (User.IsInRole("Admin"))
            {
                <li class= "nav-item">
                    <a class= "nav-link" asp-controller="Admin" asp-action="AdminDashboard">Dashboard</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" asp-controller="Trip" asp-action="CreateTrip">Create Trip</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" asp-controller="Admin" asp-action="ManageTrips">Trips</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" asp-controller="Admin" asp-action="ManageResidences">Residences</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" asp-controller="Admin" asp-action="ManageUsers">Manage Users</a>
                </li>
            }
            else if (User.IsInRole("Organizer"))
            {
                <li class="nav-item">
                    <a class="nav-link" asp-controller="Trip" asp-action="MyTrips">My Trips</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" asp-controller="Trip" asp-action="Create">Create Trip</a>
                </li>
            }
            else if (User.IsInRole("Student"))
            {
                <li class="nav-item">
                    <a class="nav-link" asp-controller="Trip" asp-action="Booking">Book Trip</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" asp-controller="Trip" asp-action="MyTrips">My Trips</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" asp-controller="Profile" asp-action="Index">Profile</a>
                </li>
            }
            else if (User.IsInRole("User"))
            {
                <li class="nav-item">
                    <a class="nav-link" asp-controller="Trip" asp-action="Search">Search Trips</a>
                </li>
            }
        </ul>
        <div class="pe-3">
            <a id="manage" class="btn btn-primary w-100 mb-3" asp-controller="Profile" asp-action="CompleteProfile" title="Manage">Profile</a>
            <form id="logoutForm" class="" asp-area="Identity" asp-page="/Account/Logout" asp-route-returnUrl="@Url.Action("Index", "Home", new { area = "" })">
                <button id="logout" type="submit" class="btn btn-primary w-100">Log Out</button>
            </form>
        </div>
    </div>
}
